# import pandas as pd
# test_dict = {'id':[1,2,3,4,5,6],'name':['Alice','Bob','Cindy','Eric','Helen','Grace '],'math':[90,89,99,78,97,93],'english':[89,94,80,94,94,90]}
# test_dict_df = pd.DataFrame(test_dict)
# print(test_dict_df)
# import pandas as pd
# import numpy as np
# import time
# import matplotlib.pyplot as plt
# df= pd.DataFrame(np.random.rand(10, 4), columns=['A','B','C','D'])
# print(df)
# print(df.dtypes)
# df.plot.line(subplots=True)
# plt.show()
# time.sleep(2)

# def convert_to_float(frac_str):
#     try:
#         return float(frac_str)
#     except ValueError:
#         num, denom = frac_str.split('/')
#         try:
#             leading, num = num.split(' ')
#             whole = float(leading)
#         except ValueError:
#             whole = 0
#         frac = float(num) / float(denom)
#         return whole - frac if whole < 0 else whole + frac

# print(convert_to_float('888'))
import re

s='''
  === 工况2 === +X 方向风荷载作用下的楼层最大位移

  Floor  Tower    Jmax     Max-(X)   Ave-(X)    Ratio-(X)       h
                  JmaxD    Max-Dx    Ave-Dx     Ratio-Dx    Max-Dx/h    DxR/Dx    Ratio_AX

   31     1    31000086     12.17    11.85        1.03         3150
               31000092      0.27     0.27        1.00       1/9999      3.96%    1.00
   30     1    30000086     11.89    11.58        1.03         3150
               30000431      0.28     0.28        1.00       1/9999      4.33%    0.80
   29     1    29000083     11.61    11.30        1.03         3150
               29000086      0.29     0.29        1.00       1/9999      4.90%    0.89
   28     1    28000086     11.32    11.01        1.03         3150
               28000431      0.31     0.31        1.00       1/9999      5.07%    0.91
   27     1    27000083     11.01    10.70        1.03         3150
               27000083      0.33     0.32        1.00       1/9647      5.06%    0.92
   26     1    26000086     10.68    10.37        1.03         3150
               26000519      0.34     0.34        1.00       1/9161      4.91%    0.92
   25     1    25000086     10.34    10.03        1.03         3150
               25000083      0.36     0.36        1.00       1/8711      4.68%    0.92
   24     1    24000086      9.97     9.67        1.03         3150
               24000431      0.38     0.37        1.00       1/8303      4.39%    0.91
   23     1    23000083      9.60     9.30        1.03         3150
               23000083      0.40     0.39        1.00       1/7936      4.07%    0.91
   22     1    22000086      9.20     8.91        1.03         3150
               22000086      0.41     0.41        1.00       1/7610      3.70%    0.91
   21     1    21000083      8.78     8.50        1.03         3150
               21000083      0.43     0.42        1.00       1/7323      3.27%    0.90
   20     1    20000086      8.35     8.08        1.03         3150
               20000431      0.45     0.44        1.00       1/7077      2.60%    0.89
   19     1    19000083      7.91     7.65        1.03         3150
               19000086      0.46     0.45        1.00       1/6884      2.49%    0.88
   18     1    18000086      7.45     7.20        1.04         3150
               18000492      0.47     0.46        1.00       1/6705      2.16%    0.88
   17     1    17000086      6.98     6.74        1.04         3150
               17000490      0.48     0.47        1.00       1/6552      1.78%    0.87
   16     1    16000083      6.50     6.27        1.04         3150
               16000083      0.49     0.48        1.00       1/6427      1.32%    0.87
   15     1    15000083      6.01     5.80        1.04         3150
               15000431      0.50     0.48        1.00       1/6333      0.69%    0.86
   14     1    14000086      5.51     5.32        1.04         3150
               14000086      0.50     0.49        1.00       1/6280      0.42%    0.85
   13     1    13000083      5.01     4.83        1.04         3150
               13000431      0.50     0.49        1.00       1/6245      0.11%    0.84
   12     1    12000083      4.51     4.34        1.04         3150
               12000083      0.50     0.49        1.00       1/6244      0.78%    0.84
   11     1    11000086      4.00     3.85        1.04         3150
               11000431      0.50     0.48        1.00       1/6284      1.69%    0.83
   10     1    10000083      3.50     3.37        1.04         3150
               10000086      0.49     0.48        1.00       1/6384      2.31%    0.81
    9     1     9000086      3.01     2.90        1.04         3150
                9000083      0.48     0.46        1.00       1/6529      3.41%    0.80
    8     1     8000086      2.53     2.43        1.04         3150
                8000492      0.47     0.45        1.00       1/6754      4.93%    0.79
    7     1     7000083      2.06     1.98        1.04         3150
                7000431      0.44     0.43        1.00       1/7101      7.17%    0.77
    6     1     6000083      1.62     1.56        1.04         3150
                6000083      0.41     0.40        1.00       1/7645     10.91%    0.74
    5     1     5000086      1.20     1.16        1.04         3150
                5000083      0.37     0.35        1.00       1/8592     20.41%    0.69
    4     1     4000083      0.84     0.81        1.04         3150
                4000139      0.33     0.27        1.00       1/9584     26.60%    0.61
    3     1     3000075      0.62     0.54        1.14         3150
                3000105      0.26     0.16        1.00       1/9999      2.98%    0.56
    2     1     2000031      0.47     0.36        1.29         3150
                2000031      0.31     0.23        1.00       1/9999     49.01%    0.75
    1     1     1000031      0.17     0.12        1.37         3150
                1000031      0.17     0.12        1.00       1/9999    100.00%    0.39

  X向最大层间位移角：  1/6244  (12层1塔)
  X方向最大位移与层平均位移的比值：  1.37  (1层1塔)
  X方向最大层间位移与平均层间位移的比值：  1.00  (31层1塔)

  === 工况3 === -X 方向风荷载作用下的楼层最大位移

  Floor  Tower    Jmax     Max-(X)   Ave-(X)    Ratio-(X)       h
                  JmaxD    Max-Dx    Ave-Dx     Ratio-Dx    Max-Dx/h    DxR/Dx    Ratio_AX

   31     1    31000086     12.17    11.85        1.03         3150
               31000092      0.27     0.27        1.00       1/9999      3.96%    1.00
   30     1    30000086     11.89    11.58        1.03         3150
               30000431      0.28     0.28        1.00       1/9999      4.33%    0.80
   29     1    29000083     11.61    11.30        1.03         3150
               29000086      0.29     0.29        1.00       1/9999      4.90%    0.89
   28     1    28000086     11.32    11.01        1.03         3150
               28000431      0.31     0.31        1.00       1/9999      5.07%    0.91
   27     1    27000083     11.01    10.70        1.03         3150
               27000083      0.33     0.32        1.00       1/9647      5.06%    0.92
   26     1    26000086     10.68    10.37        1.03         3150
               26000519      0.34     0.34        1.00       1/9161      4.91%    0.92
   25     1    25000086     10.34    10.03        1.03         3150
               25000083      0.36     0.36        1.00       1/8711      4.68%    0.92
   24     1    24000086      9.97     9.67        1.03         3150
               24000431      0.38     0.37        1.00       1/8303      4.39%    0.91
   23     1    23000083      9.60     9.30        1.03         3150
               23000083      0.40     0.39        1.00       1/7936      4.07%    0.91
   22     1    22000086      9.20     8.91        1.03         3150
               22000086      0.41     0.41        1.00       1/7610      3.70%    0.91
   21     1    21000083      8.78     8.50        1.03         3150
               21000083      0.43     0.42        1.00       1/7323      3.27%    0.90
   20     1    20000086      8.35     8.08        1.03         3150
               20000431      0.45     0.44        1.00       1/7077      2.60%    0.89
   19     1    19000083      7.91     7.65        1.03         3150
               19000086      0.46     0.45        1.00       1/6884      2.49%    0.88
   18     1    18000086      7.45     7.20        1.04         3150
               18000492      0.47     0.46        1.00       1/6705      2.16%    0.88
   17     1    17000086      6.98     6.74        1.04         3150
               17000490      0.48     0.47        1.00       1/6552      1.78%    0.87
   16     1    16000083      6.50     6.27        1.04         3150
               16000083      0.49     0.48        1.00       1/6427      1.32%    0.87
   15     1    15000083      6.01     5.80        1.04         3150
               15000431      0.50     0.48        1.00       1/6333      0.69%    0.86
   14     1    14000086      5.51     5.32        1.04         3150
               14000086      0.50     0.49        1.00       1/6280      0.42%    0.85
   13     1    13000083      5.01     4.83        1.04         3150
               13000431      0.50     0.49        1.00       1/6245      0.11%    0.84
   12     1    12000083      4.51     4.34        1.04         3150
               12000083      0.50     0.49        1.00       1/6244      0.78%    0.84
   11     1    11000086      4.00     3.85        1.04         3150
               11000431      0.50     0.48        1.00       1/6284      1.69%    0.83
   10     1    10000083      3.50     3.37        1.04         3150
               10000086      0.49     0.48        1.00       1/6384      2.31%    0.81
    9     1     9000086      3.01     2.90        1.04         3150
                9000083      0.48     0.46        1.00       1/6529      3.41%    0.80
    8     1     8000086      2.53     2.43        1.04         3150
                8000492      0.47     0.45        1.00       1/6754      4.93%    0.79
    7     1     7000083      2.06     1.98        1.04         3150
                7000431      0.44     0.43        1.00       1/7101      7.17%    0.77
    6     1     6000083      1.62     1.56        1.04         3150
                6000083      0.41     0.40        1.00       1/7645     10.91%    0.74
    5     1     5000086      1.20     1.16        1.04         3150
                5000083      0.37     0.35        1.00       1/8592     20.41%    0.69
    4     1     4000083      0.84     0.81        1.04         3150
                4000139      0.33     0.27        1.00       1/9584     26.60%    0.61
    3     1     3000075      0.62     0.54        1.14         3150
                3000105      0.26     0.16        1.00       1/9999      2.98%    0.56
    2     1     2000031      0.47     0.36        1.29         3150
                2000031      0.31     0.23        1.00       1/9999     49.01%    0.75
    1     1     1000031      0.17     0.12        1.37         3150
                1000031      0.17     0.12        1.00       1/9999    100.00%    0.39

  X向最大层间位移角：  1/6244  (12层1塔)
  X方向最大位移与层平均位移的比值：  1.37  (1层1塔)
  X方向最大层间位移与平均层间位移的比值：  1.00  (31层1塔)

  === 工况4 === +Y 方向风荷载作用下的楼层最大位移

'''
pattern_mode="(\-)X 方向风荷载作用下的楼层最大位移(.*?)X向最大层间位移角"
pattern = re.compile(pattern_mode,re.M|re.S)
info = pattern.findall(s)

print(info[1])
